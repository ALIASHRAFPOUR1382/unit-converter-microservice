# راهنمای استفاده از API (Swagger UI)

## صفحه Swagger UI چیست؟

صفحه `/docs` یک رابط کاربری تعاملی است که می‌توانید:
- تمام API endpoints را ببینید
- مستقیماً API را تست کنید
- مستندات کامل را مشاهده کنید

---

## مراحل استفاده

### 1. ایجاد Todo جدید (POST)

1. در صفحه Swagger، بخش **POST /api/todos** را پیدا کنید
2. روی دکمه **"Try it out"** کلیک کنید
3. در قسمت **Request body**، JSON را ویرایش کنید:

```json
{
  "title": "یادگیری FastAPI",
  "description": "مطالعه مستندات و ساخت API",
  "completed": false
}
```

4. روی دکمه **"Execute"** کلیک کنید
5. در قسمت **Responses**، نتیجه را ببینید:
   - **Code 201**: Todo با موفقیت ایجاد شد
   - **Response body**: اطلاعات Todo ایجاد شده

---

### 2. دریافت لیست Todos (GET)

1. بخش **GET /api/todos** را پیدا کنید
2. روی **"Try it out"** کلیک کنید
3. می‌توانید پارامترهای اختیاری را تنظیم کنید:
   - **page**: شماره صفحه (پیش‌فرض: 1)
   - **page_size**: تعداد آیتم در هر صفحه (پیش‌فرض: 10)
   - **completed**: فیلتر بر اساس وضعیت (true/false/null)
4. روی **"Execute"** کلیک کنید
5. لیست Todos را در **Response body** ببینید

---

### 3. دریافت یک Todo (GET by ID)

1. بخش **GET /api/todos/{todo_id}** را پیدا کنید
2. روی **"Try it out"** کلیک کنید
3. در قسمت **todo_id**، شماره ID Todo را وارد کنید (مثلاً: 1)
4. روی **"Execute"** کلیک کنید
5. اطلاعات Todo را ببینید

---

### 4. به‌روزرسانی Todo (PUT - کامل)

1. بخش **PUT /api/todos/{todo_id}** را پیدا کنید
2. روی **"Try it out"** کلیک کنید
3. **todo_id** را وارد کنید
4. در **Request body**، تمام فیلدها را وارد کنید:

```json
{
  "title": "یادگیری FastAPI - به‌روزرسانی شده",
  "description": "تکمیل شده",
  "completed": true
}
```

5. روی **"Execute"** کلیک کنید

---

### 5. به‌روزرسانی جزئی Todo (PATCH)

1. بخش **PATCH /api/todos/{todo_id}** را پیدا کنید
2. روی **"Try it out"** کلیک کنید
3. **todo_id** را وارد کنید
4. در **Request body**، فقط فیلدهایی که می‌خواهید تغییر دهید را وارد کنید:

```json
{
  "completed": true
}
```

5. روی **"Execute"** کلیک کنید

---

### 6. حذف Todo (DELETE)

1. بخش **DELETE /api/todos/{todo_id}** را پیدا کنید
2. روی **"Try it out"** کلیک کنید
3. **todo_id** را وارد کنید
4. روی **"Execute"** کلیک کنید
5. **Code 204**: Todo با موفقیت حذف شد

---

## مثال عملی: ایجاد و مدیریت Todo

### مرحله 1: ایجاد Todo
```
POST /api/todos
{
  "title": "خرید کتاب",
  "description": "خرید کتاب Python",
  "completed": false
}
```

### مرحله 2: دریافت لیست
```
GET /api/todos
```

### مرحله 3: به‌روزرسانی وضعیت
```
PATCH /api/todos/1
{
  "completed": true
}
```

### مرحله 4: دریافت Todo به‌روزرسانی شده
```
GET /api/todos/1
```

---

## نکات مهم

1. **همیشه ابتدا "Try it out" را بزنید**: این دکمه فرم‌ها را قابل ویرایش می‌کند
2. **Response Code**: 
   - **200**: موفقیت
   - **201**: ایجاد موفق
   - **204**: حذف موفق (بدون محتوا)
   - **404**: پیدا نشد
   - **422**: خطای اعتبارسنجی
3. **Schema**: می‌توانید با کلیک روی **"Schema"** ساختار دقیق Request/Response را ببینید

---

## تست سریع

1. یک Todo ایجاد کنید
2. لیست Todos را ببینید
3. Todo را به‌روزرسانی کنید
4. Todo را حذف کنید

همه این کارها را می‌توانید در همان صفحه Swagger انجام دهید!


